# 域名监控系统

## 项目概述

域名监控系统是一个基于Cloudflare Workers的轻量级应用，用于管理和监控域名到期情况，并在域名即将到期时通过Telegram发送提醒通知。系统提供了直观的Web界面，支持域名的添加、编辑、删除和查看详情等功能。

## 功能特点

- **域名管理**：支持添加、编辑、删除和查看域名详情
- **到期监控**：自动计算并显示域名剩余天数，并根据剩余时间显示不同状态
- **Telegram通知**：当域名剩余有效期不足7天时，自动发送Telegram通知提醒
- **安全认证**：基于Cookie的简单认证机制，支持登录和自动登出
- **数据存储**：使用Cloudflare KV存储域名数据
- **响应式设计**：适配桌面和移动设备的界面

## 技术架构

- **前端**：纯HTML/CSS/JavaScript实现，无需额外框架
- **后端**：Cloudflare Workers提供API服务
- **存储**：Cloudflare KV作为数据存储
- **定时任务**：Cloudflare Cron Triggers实现定时检查域名到期情况
- **通知服务**：Telegram Bot API发送通知

## 部署说明

### 前提条件

- Cloudflare账户
- Telegram Bot（用于发送通知）

### 部署步骤

1. 在Cloudflare Workers中创建新的Worker
2. 将`worker.js`文件内容复制到Worker编辑器中
3. 在Cloudflare中创建KV命名空间，命名为`DOMAIN_DB`
4. 将KV命名空间绑定到Worker，变量名设置为`DOMAIN_DB`
5. 在Worker设置中配置Cron Trigger（建议每天运行一次）
6. 修改代码中的以下配置：
   - `ADMIN_USERNAME`和`ADMIN_PASSWORD`：管理员登录凭证
   - `TELEGRAM_BOT_TOKEN`：Telegram Bot的Token
   - `TELEGRAM_CHAT_ID`：接收通知的Telegram聊天ID
7. 部署Worker

## 使用指南

### 登录系统

1. 访问Worker URL
2. 输入管理员用户名和密码登录
3. 登录成功后，系统会自动显示域名列表（如果有）

### 添加域名

1. 点击界面上的"添加域名"按钮
2. 在弹出的表单中填写域名信息：
   - 域名
   - 注册商名称
   - 注册商链接
   - 邮箱
   - 密码
   - 使用说明
   - 注册时间
   - 到期时间
3. 点击"保存"按钮提交

### 管理域名

- **查看详情**：点击域名行中的"详情"按钮
- **编辑域名**：点击域名行中的"编辑"按钮
- **删除域名**：点击域名行中的"删除"按钮

### 域名状态说明

- **正常**：域名到期日期距今超过7天
- **即将到期**：域名将在7天内到期
- **已过期**：域名已经过期

## 安全注意事项

- 生产环境中应使用更强的密码和认证机制
- 建议定期备份KV存储中的域名数据
- 避免在公共场合访问系统，以防密码泄露

## 自定义与扩展

- 可以修改CSS样式自定义界面外观
- 可以扩展通知方式，如添加邮件通知
- 可以增加更多域名相关的信息字段

## 技术说明

系统使用了Cloudflare Workers的以下特性：

- 事件监听器：处理HTTP请求和定时任务
- KV存储：保存域名数据
- Fetch API：发送Telegram通知
- Cookie：实现简单的认证机制


### 域名监控面板

![域名监控面板](./images/domain-dashboard.png)

*域名监控面板，显示所有域名及其状态、到期时间和操作按钮*

---

本项目提供了一个简单而实用的域名监控解决方案，特别适合个人或小团队使用。通过Telegram通知功能，可以有效避免因忘记续费而导致的域名过期问题。
